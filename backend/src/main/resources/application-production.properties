# Production Configuration for Azure Deployment

# Server Configuration - Azure provides PORT environment variable
server.port=${PORT:8080}

# Application Name
spring.application.name=chat-backend

# AI API Configuration - Using environment variables
ai.api.key=${AI_API_KEY}
ai.api.url=${AI_API_URL:https://openrouter.ai/api/v1/chat/completions}
ai.model.name=${AI_MODEL:anthropic/claude-3-haiku}
ai.api.timeout=30000

# App URL for OpenRouter headers
app.url=${APP_URL:https://react-spring-boot-and-azure-ai-chat.vercel.app}

# CORS Configuration - Update with your frontend URL
# Set FRONTEND_URL environment variable in Azure
spring.web.cors.allowed-origins=${FRONTEND_URL:https://react-spring-boot-and-azure-ai-chat.vercel.app}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*

# Database Configuration - Using H2 file-based for persistence
# Data will persist across Azure restarts
# File stored in Azure's local storage
spring.datasource.url=jdbc:h2:file:/tmp/chatdb;DB_CLOSE_ON_EXIT=FALSE;AUTO_SERVER=TRUE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Logging Configuration - Less verbose in production
logging.level.com.chat=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN

# Security Configuration
spring.security.user.name=${ADMIN_USER:admin}
spring.security.user.password=${ADMIN_PASSWORD:admin}

